



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Characteristic Attribute Organization System (CAOS) implementation in Julia.">
      
      
      
        <meta name="author" content="bcbi">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="./assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>CAOS.jl</title>
      
    
    
      <link rel="stylesheet" href="./assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="./assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="./assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="./assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#characteristic-attribute-organization-system-caos" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="CAOS.jl" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CAOS.jl
              </span>
              <span class="md-header-nav__topic">
                Home
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/bcbi/CAOS.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="CAOS.jl" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    CAOS.jl
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/bcbi/CAOS.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generate-caos-rules-from-a-phylogenetic-tree-writes-caos-rule-files-to-the-output-directory" title="Generate CAOS rules from a phylogenetic tree, writes CAOS rule files to the output directory." class="md-nav__link">
    Generate CAOS rules from a phylogenetic tree, writes CAOS rule files to the output directory.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classify-a-sequence-using-caos-rules-already-generated-writes-the-classification-label-to-file-in-the-output-directory" title="Classify a sequence using CAOS rules already generated, writes the classification label to file in the output directory." class="md-nav__link">
    Classify a sequence using CAOS rules already generated, writes the classification label to file in the output directory.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-to-read-tree-information-from-file" title="Function to read tree information from file" class="md-nav__link">
    Function to read tree information from file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nexus-file-format" title="NEXUS File Format" class="md-nav__link">
    NEXUS File Format
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="documentation/" title="Manual" class="md-nav__link">
      Manual
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generate-caos-rules-from-a-phylogenetic-tree-writes-caos-rule-files-to-the-output-directory" title="Generate CAOS rules from a phylogenetic tree, writes CAOS rule files to the output directory." class="md-nav__link">
    Generate CAOS rules from a phylogenetic tree, writes CAOS rule files to the output directory.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classify-a-sequence-using-caos-rules-already-generated-writes-the-classification-label-to-file-in-the-output-directory" title="Classify a sequence using CAOS rules already generated, writes the classification label to file in the output directory." class="md-nav__link">
    Classify a sequence using CAOS rules already generated, writes the classification label to file in the output directory.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-to-read-tree-information-from-file" title="Function to read tree information from file" class="md-nav__link">
    Function to read tree information from file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nexus-file-format" title="NEXUS File Format" class="md-nav__link">
    NEXUS File Format
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bcbi/CAOS.jl/edit/master/docs/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a id='Characteristic-Attribute-Organization-System-(CAOS).-1'></a></p>
<h1 id="characteristic-attribute-organization-system-caos">Characteristic Attribute Organization System (CAOS).</h1>
<p>The three functions provided by this package are located in the <code>user_functions.jl</code> file. This file also leverages helper functions from the files: <code>caos_functions.jl</code>, <code>tree_functions.jl</code> ,<code>utils.jl</code>, <code>classification.jl</code>, <code>gap_imputation.jl</code>.</p>
<p>To use this package to classify a sequence, first run the <code>generate_caos_rules</code> function on your tree in the required NEXUS format. This will create the necessary CAOS rules and files to use for classification. If you don't have the output from <code>generate_caos_rules</code> in your working environment, run <code>load_tree</code> to read in the necessary tree files. Next run the <code>classify_new_sequence</code> function on the sequence you wish to classify.</p>
<p><a id='Generate-CAOS-rules-from-a-phylogenetic-tree,-writes-CAOS-rule-files-to-the-output-directory.-1'></a></p>
<h4 id="generate-caos-rules-from-a-phylogenetic-tree-writes-caos-rule-files-to-the-output-directory">Generate CAOS rules from a phylogenetic tree, writes CAOS rule files to the output directory.</h4>
<div class="codehilite"><pre><span></span><span class="n">generate_caos_rules</span><span class="p">(</span><span class="n">tree_file_path</span><span class="o">::</span><span class="n">String</span><span class="p">,</span> <span class="n">output_directory</span><span class="o">::</span><span class="n">String</span><span class="p">)</span>
</pre></div>


<ul>
<li><code>tree_file_path</code> : The path leading to the NEXUS file containing the phylogentic tree to be used to create CAOS rules. The exact format of the NEXUS file is described below.</li>
<li><code>output_directory</code> : The directory which will contain all files pertaining to CAOS rules and classification</li>
<li>The function returns the tree with all CAOS rules as a Node object, as well as the character and taxa label dictionaries. It will also write 7 files to the output directory: <code>caos_rules.json</code> contains all the CAOS rules for the tree, <code>character_labels.json</code> and <code>taxa_labels.json</code> contain information connecting sequences to names and locations in the tree (internal use), and the 4 <code>.fasta</code> files will be utilized later for sequence alignment using BLAST during classification.</li>
</ul>
<p><a id='Classify-a-sequence-using-CAOS-rules-already-generated,-writes-the-classification-label-to-file-in-the-output-directory.-1'></a></p>
<h4 id="classify-a-sequence-using-caos-rules-already-generated-writes-the-classification-label-to-file-in-the-output-directory">Classify a sequence using CAOS rules already generated, writes the classification label to file in the output directory.</h4>
<div class="codehilite"><pre><span></span><span class="n">classify_new_sequence</span><span class="p">(</span><span class="n">tree</span><span class="o">::</span><span class="n">Node</span><span class="p">,</span> <span class="n">character_labels</span><span class="o">::</span><span class="kt">Dict</span><span class="p">{</span><span class="n">String</span><span class="p">,</span><span class="n">String</span><span class="p">},</span> <span class="n">taxa_labels</span><span class="o">::</span><span class="kt">Dict</span><span class="p">{</span><span class="n">String</span><span class="p">,</span><span class="n">String</span><span class="p">},</span> <span class="n">sequence_file_path</span><span class="o">::</span><span class="n">String</span><span class="p">,</span> <span class="n">output_directory</span><span class="o">::</span><span class="n">String</span> <span class="p">;</span> <span class="n">all_CA_weights</span><span class="o">::</span><span class="kt">Dict</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="kt">Dict</span><span class="p">{</span><span class="n">String</span><span class="p">,</span><span class="kt">Int64</span><span class="p">}}</span><span class="o">=</span><span class="kt">Dict</span><span class="p">(</span><span class="mi">1</span><span class="o">=&gt;</span><span class="kt">Dict</span><span class="p">(</span><span class="s">&quot;sPu&quot;</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;sPr&quot;</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;cPu&quot;</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;cPr&quot;</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">)),</span> <span class="n">occurrence_weighting</span><span class="o">::</span><span class="kt">Bool</span><span class="o">=</span><span class="kc">false</span><span class="p">,</span> <span class="n">tiebreaker</span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Dict</span><span class="p">{</span><span class="n">String</span><span class="p">,</span><span class="kt">Int64</span><span class="p">}}</span><span class="o">=</span><span class="p">[</span><span class="kt">Dict</span><span class="p">{</span><span class="n">String</span><span class="p">,</span><span class="kt">Int64</span><span class="p">}()])</span>
</pre></div>


<ul>
<li><code>tree</code> : A Node object containing the tree with all CAOS rules</li>
<li><code>character_labels</code> : A dictionary containing the character labels with the associated sequences</li>
<li><code>taxa_labels</code> : A dictionary containing the taxa labels with the associated sequence names</li>
<li><code>sequence_file_path</code> : The path leading to the text file containing the sequence you wish to classify. The file should only contain the characters of the sequence</li>
<li><code>output_directory</code> : The directory which contains all files pertaining to CAOS rules and classification</li>
<li><code>all_CA_weights</code> : An optional argument for the weights to be given to different types of CA's (default is all 1)</li>
<li><code>occurrence_weighting</code> : An optional argument for whether to use occurrence weighting for private rules (default is false)</li>
<li><code>tiebreaker</code> : An optional argument for whether to use a tiebreaker (next set of CA weights), or return the entire subtree</li>
<li>This functions returns the classification result. Either a string with the classification label or a Node object (under classifiction) will be returned.</li>
</ul>
<p><a id='Function-to-read-tree-information-from-file-1'></a></p>
<h4 id="function-to-read-tree-information-from-file">Function to read tree information from file</h4>
<div class="codehilite"><pre><span></span><span class="n">load_tree</span><span class="p">(</span><span class="n">directory</span><span class="o">::</span><span class="n">String</span><span class="p">)</span>
</pre></div>


<ul>
<li><code>directory</code> : The directory where the CAOS rules and character and taxa labels are saved</li>
<li>The function returns the tree with all CAOS rules as a Node object, as well as the character and taxa label dictionaries.</li>
</ul>
<p><a id='NEXUS-File-Format-1'></a></p>
<h2 id="nexus-file-format">NEXUS File Format</h2>
<p>In order for the parser to correctly extract all relevant information from your phylogeneitc tree, your NEXUS file must be in the exact format described below (most NEXUS files will already be in this format, but if you are having issues with your file being read properly, here is how to format it):</p>
<ul>
<li>The tree must in Newick format (only parentheses, commas, and numbers)</li>
<li>The tree must be on a line with the words "TREE" and "=", and only contain parentheses as part of the Newick representation</li>
<li>The character labels (names associated with each sequence of characters) should be exactly 3 lines beneath a line with the word "MATRIX" (this should be the only time the word "MATRIX" appears in the file)</li>
<li>Each character label should be its own line, with the name followed by a number of space, and then the character sequence</li>
<li>After your last character label, the following line should contain only a ";"</li>
<li>Taxa labels (taxa numbers for the position in the newick formatted tree associated with each character sequence name) should appear directly after a line containing the word "TRANSLATE" (this should be the only occurrence of that word in the file)</li>
<li>Each taxa label should be its own line, with the taxa number followed by the character sequence name (at least one space in between the two)</li>
<li>The line with the last taxa label should end with a ";"</li>
</ul>
<p>An example NEXUS file is provided in the repository : <code>S10593.nex</code></p>
<p>An example sequence file is provided in the repository : <code>Example_Sequence.txt</code></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="documentation/" title="Manual" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Manual
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="./assets/javascripts/application.30f6b8b1.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"."}})</script>
      
    
    
      
    
  </body>
</html>